<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <template id="brand_search" inherit_id="website_sale.search" name="Search Brand Box">
        <xpath expr="//t[@t-if='attrib_values']" position="after">
            <t t-if="brand_values">
                <t t-foreach="brand_values" t-as="a">
                    <input type="hidden" name="brand" t-att-value="'%s' % (a[0])" />
                </t>
            </t>
        </xpath>
    </template>

    <template id="product_brands" inherit_id="website_sale.products" active="False" customize_show="True" name="eCommerce Brands">
        <xpath expr="//div[@id='products_grid_before']" position="inside">
            <form class="js_attributes" method="get">
                <input type="hidden" name="search" t-att-value="search" />
                <t t-foreach="attributes" t-as="a">
                    <t t-if="a.type == 'select'">
                        <select class="form-control d-none" name="attrib">
                            <t t-foreach="a.value_ids" t-as="v">
                                <option type="hidden" t-att-value="'%s-%s' % (a.id,v.id)" t-esc="v.name" t-att-selected="v.id in attrib_set" t-if="v.id in attrib_set"/>
                            </t>
                        </select>
                    </t>
                    <t t-if="a.type == 'radio'">
                        <t t-foreach="a.value_ids" t-as="v">
                            <input type="hidden" name="attrib" t-att-value="'%s-%s' % (a.id,v.id)" t-att-checked="'checked' if v.id in attrib_set else None" t-if="v.id in attrib_set"/>
                        </t>
                    </t>
                    <t t-if="a.type == 'color'">
                        <t t-foreach="a.value_ids" t-as="v">
                            <input type="hidden" name="attrib" t-att-value="'%s-%s' % (a.id,v.id)" t-att-checked="'checked' if v.id in attrib_set else None" t-att-title="v.name" t-if="v.id in attrib_set"/>
                        </t>
                    </t>
                </t>
                <ul class="nav nav-pills flex-column mt16">
                    <h5> Brands </h5>
                    <t t-foreach="brands" t-as="brand">
                        <li class="nav-item">
                            <label style="margin: 0 20px;" t-attf-class="nav-link #{' active' if brand.id in brand_ids else ''}">
                                <input type="checkbox" name="brand" t-att-value="brand.id"  t-att-checked="'checked' if brand.id in brand_ids else None"/>
                                <span t-field="brand.name"/>
                            </label>
                        </li>
                    </t>
                </ul>
            </form>
        </xpath>
        <xpath expr="//div[@id='products_grid_before']" position="attributes">
            <attribute name="class">col-lg-3 col-md-4 col-12</attribute>
        </xpath>
        <xpath expr="//div[@id='products_grid']" position="attributes">
            <attribute name="class">col-lg-9 col-md-8</attribute>
        </xpath>
    </template>
</odoo>
